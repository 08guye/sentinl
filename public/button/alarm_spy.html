<div ng-show="spy.mode.name === 'setalarm'" class="fill visualize-spy-nav">
  <label>
    Use Elasticsearch request to create a New Watcher &nbsp;
  </label>
  <br/>
  <div class="form-group">
  	<a class="btn btn-default ng-binding ng-scope" ng-click="makeAlarm()" href="javascript:;">Save Watcher</a>
  	<a class="btn btn-default ng-binding ng-scope" href="/app/kaae">Save + Edit Watcher in Kaae</a>
  </div>
  <div class="form-group" style="margin-left:10px;width:33%;float:left;">
    <label for="visTitle">Watcher ID:</label>
    <input ng-change="makeAlarm()" class="form-control ng-pristine ng-valid ng-touched" input-focus="select" type="text" name="watcherTitle" ng-model="watcher_id" required="">
    <label for="visTitle">Watcher Repeat Interval:</label>
    <select name="watcherInterval" 
		ng-change="makeAlarm()" 
		ng-options="option.value as option.name for option in intervals" 
		class="form-control ng-pristine ng-valid ng-valid-required ng-touched" 
		ng-model="watcher_interval">
    </select>
    <label for="visTitle">Watcher Query Range:</label>
    <select name="watcherRange" 
		ng-change="makeAlarm()" 
		ng-options="option.value as option.name for option in ranges" 
		class="form-control ng-pristine ng-valid ng-valid-required ng-touched" 
		ng-model="watcher_range">
    </select>
    <label for="visTitle">Watcher Script:</label>
    <input ng-change="makeAlarm()" class="form-control ng-pristine ng-valid ng-touched" input-focus="select" type="text" name="watcherScript" ng-model="watcher_script" required="">
    <label for="visTitle">Watcher Available Script Values:</label>
    <select name="watcherHints" 
		ng-options="key as key for (key , value) in resKeys" 
		class="form-control ng-pristine ng-valid ng-valid-required ng-touched" 
		ng-model="watcher_hints">
    </select>

    <hr>
    <label for="visTitle">Email To:</label>
    <input ng-change="makeAlarm()" class="form-control ng-pristine ng-valid ng-touched" input-focus="select" type="text" ng-model="watcher_email_to" required="">
    <label for="visTitle">Email Subject:</label>
    <input ng-change="makeAlarm()" class="form-control ng-pristine ng-valid ng-touched" input-focus="select" type="text" ng-model="watcher_email_subj" required="">
    <label for="visTitle">Email Body:</label>
    <input ng-change="makeAlarm()" class="form-control ng-pristine ng-valid ng-touched" input-focus="select" type="text" ng-model="watcher_email_body" required="">

  </div>

  <div class="form-group" style="width:60%;float:right;">
	  <br/>
	  <pre style="max-height:450px;">{{ alarm | json }}</pre>
  </div>
</div>
