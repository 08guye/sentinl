<kbn-top-nav name="kaae" config="topNavMenu">
</kbn-top-nav>

<header class="navbar navbar-static-top navbar-inverse">
    <nav class="collapse navbar-collapse">
	<ul class="nav navbar-nav">
		<li><a href="javascript:window.location.replace('/app/kaae#/');">Watchers</a></li>
		<li><a href="javascript:window.location.replace('/app/kaae#/alarms');">Alarms</a></li>
		<li><a href="javascript:window.location.replace('/app/kaae#/about');">About</a></li>
	</ul>
    </nav>
</header>

<div class="container" ng-controller="kaaeHelloWorld">
  <div class="row">
    <div class="col-12-sm">
      <p>The current time is {{ currentTime }}</p>
	<hr>
      <div class="panel panel-default" ng-show="!currentAlarms.length">
	<div class="panel-heading"><h4>NO RECENT ALARMS<div class="edit-group pull-right"><a href="#"><i class="fa fa-plus"></i></a></div></h4></div>
      </div>

      <div class="panel panel-default" ng-show="currentAlarms.length">
	<div class="panel-heading"><h4>RECENT ALARMS<div class="edit-group pull-right"><a href="#"><i class="fa fa-plus"></i></a></div></h4></div>
	<table class="table">
	  <thead>
	    <tr>
		<!-- <th> </th> -->
		<th>TIMESTAMP</th>
		<th>MESSAGE</th>
		<th></th>
	    </tr>
	  <tbody ng-repeat='alarm in currentAlarms'>
	    <tr class="alarmRow">
	         <!-- <td><input type=checkbox ng-model=collapse></td> -->
	         <td>{{ alarm.id }}</td>
	         <td>{{ alarm.message }}</td>
		 <td class="text-center edit-group">
			<a href="javascript:;" ng-click="collapse=!collapse" ng-model="collapse" class="show-rule"><i class="fa fa-ellipsis-h"></i></a>
			<a href="javascript:;" ng-click="deleteAlarm($index)" class="delete-rule"><i class="fa fa-trash"></i></a></td>
	    </tr>
	    <tr ng-show=collapse>
	        <td colspan="100%">
		   <pre>{{ alarm | json }}</pre>
		</td>
	    </tr>
	  </tbody>
	</table>
      </div>

    </div>
  </div>
</div>
